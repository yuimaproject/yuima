<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Volatility Estimation and Jump Test Using Nearest Neighbor Truncation  — ntv • The YUIMA Project</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Volatility Estimation and Jump Test Using Nearest Neighbor Truncation  — ntv"><meta property="og:description" content="
minrv and medrv respectively compute the MinRV and MedRV estimators introduced in Andersen, Dobrev and Schaumburg (2012).
minrv.test and medrv.test respectively perform Haussman type tests for the null hypothesis that the realized path has no jump using the MinRV and MedRV estimators.
See Section 4.4 in Andersen, Dobrev and Schaumburg (2014) for a concise discussion."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">The YUIMA Project</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.15.27</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/yuimaproject/yuima/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Volatility Estimation and Jump Test Using Nearest Neighbor Truncation <!-- %% ~~function to do ... ~~ --></h1>

    <div class="hidden name"><code>ntv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><!-- %%  ~~ A concise (1-5 lines) description of what the function does. ~~ -->
<code>minrv</code> and <code>medrv</code> respectively compute the MinRV and MedRV estimators introduced in Andersen, Dobrev and Schaumburg (2012).</p>
<p><code>minrv.test</code> and <code>medrv.test</code> respectively perform Haussman type tests for the null hypothesis that the realized path has no jump using the MinRV and MedRV estimators.
See Section 4.4 in Andersen, Dobrev and Schaumburg (2014) for a concise discussion.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">minrv</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span></span>
<span><span class="fu">medrv</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">minrv.test</span><span class="op">(</span><span class="va">yuima</span>, type <span class="op">=</span> <span class="st">"ratio"</span>, adj <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">medrv.test</span><span class="op">(</span><span class="va">yuima</span>, type <span class="op">=</span> <span class="st">"ratio"</span>, adj <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <p></p>
<dl><dt id="arg-yuima">yuima<a class="anchor" aria-label="anchor" href="#arg-yuima"></a></dt>
<dd><p><!-- %%     ~~Describe \code{yuima} here~~ -->
an object of  <code><a href="yuima-class.html">yuima-class</a></code> or <code><a href="yuima.data-class.html">yuima.data-class</a></code>.</p></dd>

<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p><!-- %%     ~~Describe \code{type} here~~ -->
type of the test statistic to use. <code>ratio</code> is default.</p></dd>

  <dt id="arg-adj">adj<a class="anchor" aria-label="anchor" href="#arg-adj"></a></dt>
<dd><p><!-- %%     ~~Describe \code{adj} here~~ -->
logical; if <code>TRUE</code>, the maximum adjustment suggested in Barndorff-Nielsen and Shephard (2004) is applied to the test statistic when <code>type</code> is equal to either “<code>log</code>” or “<code>ratio</code>”. See also Section 2.5 in Dumitru and Urga (2012).</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p><!-- %%  ~Describe the value returned -->
<!-- %%  If it is a LIST, use -->
<!-- %%  \item{comp1 }{Description of 'comp1'} -->
<!-- %%  \item{comp2 }{Description of 'comp2'} -->
<!-- %% ... -->
<code>minrv</code> and <code>medrv</code> return a numeric vector with the same length as <code>dim(yuima)</code>. Each component of the vector is a volatility estimate for the corresponding component of <code>yuima</code>.</p>
<p><code>minrv.test</code> and <code>medrv.test</code> return a list with the same length as <code>dim(yuima)</code>. Each component of the list has class “<code>htest</code>” and contains the following components:</p>
<dl><dt>statistic</dt>
<dd><p>the value of the test statistic of the corresponding component of <code>yuima</code>.</p></dd>

<dt>p.value</dt>
<dd><p>an approximate p-value for the test of the corresponding component.</p></dd>

<dt>method</dt>
<dd><p>the character string “<code>Andersen-Dobrev-Schaumburg jump test based on xxx</code>”, where xxx is either MinRV or MedRV.</p></dd>

<dt>data.name</dt>
<dd><p>the character string “<code>xi</code>”, where <code>i</code> is the number of the component.</p></dd>

</dl></div>
    <div id="references">
    <h2>References</h2>
    <p><!-- %% ~put references to the literature/web site here ~ -->
Andersen, T. G., Dobrev D. and Schaumburg, E. (2012)
  Jump-robust volatility estimation using nearest neighbor truncation.
  <em>Journal of Econometrics</em>, <b>169</b>, 75–93.</p>
<p>Andersen, T. G., Dobrev D. and Schaumburg, E. (2014)
  A robust neighborhood truncation approach to estimation of integrated quarticity.
  <em>Econometric Theory</em>, <b>30</b>, 3–59.</p>
<p>Dumitru, A.-M. and Urga, G. (2012)
  Identifying jumps in financial assets: A comparison between nonparametric jump tests.
  <em>Journal of Business and Economic Statistics</em>, <b>30</b>, 242–255.</p>
<p>Maneesoonthorn, W., Martin, G. M. and Forbes, C. S. (2020)
  High-frequency jump tests: Which test should we use?
  <em>Journal of Econometrics</em>, <b>219</b>, 478–487.</p>
<p>Theodosiou, M. and Zikes, F. (2011)
  A comprehensive comparison of alternative tests for jumps in asset prices.
  Central Bank of Cyprus Working Paper 2011-2.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p><!-- %%  ~~who you are~~ -->
Yuta Koike with YUIMA Project Team</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><!-- %% ~~objects to See Also as \code{\link{help}}, ~~~ -->
<code><a href="mpv.html">mpv</a></code>, <code><a href="cce.html">cce</a></code>, <code><a href="bns.test.html">bns.test</a></code>, <code><a href="lm.jumptest.html">lm.jumptest</a></code>, <code><a href="pz.test.html">pz.test</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># One-dimensional case</span></span></span>
<span class="r-in"><span><span class="co">## Model: dXt=t*dWt+t*dzt, </span></span></span>
<span class="r-in"><span><span class="co">## where zt is a compound Poisson process with intensity 5</span></span></span>
<span class="r-in"><span><span class="co">## and jump sizes distribution N(0,1).</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="setModel.html">setModel</a></span><span class="op">(</span>drift<span class="op">=</span><span class="fl">0</span>,diffusion<span class="op">=</span><span class="st">"t"</span>,jump.coeff<span class="op">=</span><span class="st">"t"</span>,measure.type<span class="op">=</span><span class="st">"CP"</span>,</span></span>
<span class="r-in"><span>                  measure<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>intensity<span class="op">=</span><span class="fl">5</span>,df<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="st">"dnorm(z,0,1)"</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                  time.variable<span class="op">=</span><span class="st">"t"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">yuima.samp</span> <span class="op">&lt;-</span> <span class="fu"><a href="setSampling.html">setSampling</a></span><span class="op">(</span>Terminal <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">390</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="va">yuima</span> <span class="op">&lt;-</span> <span class="fu"><a href="setYuima.html">setYuima</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model</span>, sampling <span class="op">=</span> <span class="va">yuima.samp</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="va">yuima</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulate.html">simulate</a></span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># The path evidently has some jumps</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Volatility estimation</span></span></span>
<span class="r-in"><span><span class="fu">minrv</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># minRV (true value = 1/3)</span></span></span>
<span class="r-in"><span><span class="fu">medrv</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># medRV (true value = 1/3)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Jump test</span></span></span>
<span class="r-in"><span><span class="fu">minrv.test</span><span class="op">(</span><span class="va">yuima</span>, type <span class="op">=</span> <span class="st">"standard"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">minrv.test</span><span class="op">(</span><span class="va">yuima</span>,type<span class="op">=</span><span class="st">"log"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">minrv.test</span><span class="op">(</span><span class="va">yuima</span>,type<span class="op">=</span><span class="st">"ratio"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">medrv.test</span><span class="op">(</span><span class="va">yuima</span>, type <span class="op">=</span> <span class="st">"standard"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">medrv.test</span><span class="op">(</span><span class="va">yuima</span>,type<span class="op">=</span><span class="st">"log"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">medrv.test</span><span class="op">(</span><span class="va">yuima</span>,type<span class="op">=</span><span class="st">"ratio"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multi-dimensional case</span></span></span>
<span class="r-in"><span><span class="co">## Model: Bivariate standard BM + CP</span></span></span>
<span class="r-in"><span><span class="co">## Only the first component has jumps</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="setModel.html">setModel</a></span><span class="op">(</span>drift <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>, diffusion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                jump.coeff <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/diag.html" class="external-link">diag</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                measure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>intensity <span class="op">=</span> <span class="fl">5</span>, </span></span>
<span class="r-in"><span>                               df <span class="op">=</span> <span class="st">"dmvnorm(z,c(0,0),diag(2))"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                jump.variable <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"z"</span><span class="op">)</span>, measure.type<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"CP"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                solve.variable<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"x1"</span>,<span class="st">"x2"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">samp</span> <span class="op">&lt;-</span> <span class="fu"><a href="setSampling.html">setSampling</a></span><span class="op">(</span>Terminal <span class="op">=</span> <span class="fl">1</span>, n <span class="op">=</span> <span class="fl">390</span><span class="op">)</span> </span></span>
<span class="r-in"><span><span class="va">yuima</span> <span class="op">&lt;-</span> <span class="fu"><a href="setYuima.html">setYuima</a></span><span class="op">(</span>model <span class="op">=</span> <span class="va">model</span>, sampling <span class="op">=</span> <span class="va">yuima.samp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">yuima</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulate.html">simulate</a></span><span class="op">(</span>object <span class="op">=</span> <span class="va">mod</span>, sampling <span class="op">=</span> <span class="va">samp</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Volatility estimation</span></span></span>
<span class="r-in"><span><span class="fu">minrv</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># minRV (true value = c(1, 1))</span></span></span>
<span class="r-in"><span><span class="fu">medrv</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># medRV (true value = c(1, 1))</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Jump test</span></span></span>
<span class="r-in"><span><span class="fu">minrv.test</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># test is performed component-wise</span></span></span>
<span class="r-in"><span><span class="fu">medrv.test</span><span class="op">(</span><span class="va">yuima</span><span class="op">)</span> <span class="co"># test is performed component-wise</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Stefano M. Iacus.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

